<div class="product-interaction">
  <button class="compare-btn">
    <div class="icon-bg">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
        <path fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4h4v4m-5 1l5-5M4 20l5-5m7 5h4v-4M4 4l16 16"/>
      </svg>
    </div>
    Compare
  </button>
  <button id="question-btn" class="question-btn">
    <div class="icon-bg">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
        <path fill="#000" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m0-2a8 8 0 1 0 0-16a8 8 0 0 0 0 16m-1-5h2v2h-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1a1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.501 3.501 0 1 1 13 13.355"/>
      </svg>
    </div>
    Question
  </button>
  <button id="shipping-btn" class="shipping-btn">
    <div class="icon-bg">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
        <path fill="#000" fill-rule="evenodd" d="M12 1.25c-.605 0-1.162.15-1.771.402c-.589.244-1.273.603-2.124 1.05L6.037 3.787c-1.045.548-1.88.987-2.527 1.418c-.668.447-1.184.917-1.559 1.554c-.374.635-.542 1.323-.623 2.142c-.078.795-.078 1.772-.078 3.002v.194c0 1.23 0 2.207.078 3.002c.081.82.25 1.507.623 2.142c.375.637.89 1.107 1.56 1.554c.645.431 1.481.87 2.526 1.418l2.068 1.085c.851.447 1.535.806 2.124 1.05c.61.252 1.166.402 1.771.402s1.162-.15 1.771-.402c.589-.244 1.273-.603 2.124-1.05l2.068-1.084c1.045-.549 1.88-.988 2.526-1.419c.67-.447 1.185-.917 1.56-1.554c.374-.635.542-1.323.623-2.142c.078-.795.078-1.772.078-3.001v-.196c0-1.229 0-2.206-.078-3.001c-.081-.82-.25-1.507-.623-2.142c-.375-.637-.89-1.107-1.56-1.554c-.645-.431-1.481-.87-2.526-1.418l-2.068-1.085c-.851-.447-1.535-.806-2.124-1.05c-.61-.252-1.166-.402-1.771-.402M8.77 4.046c.89-.467 1.514-.793 2.032-1.007c.504-.209.859-.289 1.198-.289c.34 0 .694.08 1.198.289c.518.214 1.141.54 2.031 1.007l2 1.05c1.09.571 1.855.974 2.428 1.356c.282.189.503.364.683.54l-3.331 1.665l-8.5-4.474zm-1.825.958l-.174.092c-1.09.571-1.855.974-2.427 1.356a4.7 4.7 0 0 0-.683.54L12 11.162l3.357-1.68l-8.206-4.318a.8.8 0 0 1-.206-.16M2.938 8.307c-.05.214-.089.457-.117.74c-.07.714-.071 1.617-.071 2.894v.117c0 1.278 0 2.181.071 2.894c.069.697.2 1.148.423 1.528c.222.377.543.696 1.1 1.068c.572.382 1.337.785 2.427 1.356l2 1.05c.89.467 1.513.793 2.031 1.007q.244.101.448.165v-8.663zm9.812 12.818q.204-.063.448-.164c.518-.214 1.141-.54 2.031-1.007l2-1.05c1.09-.572 1.855-.974 2.428-1.356c.556-.372.877-.691 1.1-1.068c.223-.38.353-.83.422-1.528c.07-.713.071-1.616.071-2.893v-.117c0-1.278 0-2.181-.071-2.894a6 6 0 0 0-.117-.74L17.75 9.963V13a.75.75 0 0 1-1.5 0v-2.286l-3.5 1.75z" clip-rule="evenodd"/>
      </svg>
    </div>
    Shipping info
  </button>
  <button class="share-btn">
    <div class="icon-bg">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
        <path fill="#000" d="M17 22q-1.25 0-2.125-.875T14 19q0-.15.075-.7L7.05 14.2q-.4.375-.925.588T5 15q-1.25 0-2.125-.875T2 12t.875-2.125T5 9q.6 0 1.125.213t.925.587l7.025-4.1q-.05-.175-.062-.337T14 5q0-1.25.875-2.125T17 2t2.125.875T20 5t-.875 2.125T17 8q-.6 0-1.125-.213T14.95 7.2l-7.025 4.1q.05.175.063.338T8 12t-.012.363t-.063.337l7.025 4.1q.4-.375.925-.587T17 16q1.25 0 2.125.875T20 19t-.875 2.125T17 22m0-2q.425 0 .713-.287T18 19t-.288-.712T17 18t-.712.288T16 19t.288.713T17 20M5 13q.425 0 .713-.288T6 12t-.288-.712T5 11t-.712.288T4 12t.288.713T5 13m12-7q.425 0 .713-.288T18 5t-.288-.712T17 4t-.712.288T16 5t.288.713T17 6m0-1"/>
      </svg>
    </div>
    Share
  </button>
</div>

<div id="compare-popup" class="popup-overlay" style="display: none;">
  <div class="popup-content compare-content">
    <span class="close-compare">&times;</span>
    <h2>Compare</h2>
    <div class="compare-items" id="compare-items">
      <!-- Product cards will be injected here dynamically -->
    </div>
  </div>
</div>

<template id="compare-item-template">
  <div class="compare-card" data-handle="">
    <button class="remove-compare">× Remove</button>
    <div class="product-info">
      <img src="" alt="" class="compare-image">
      <p class="compare-title"></p>
      <p class="compare-price"></p>
      <p class="compare-availability"></p>
      <button class="add-to-cart-btn">ADD TO CART</button>
    </div>
  </div>
</template>

<div id="question-popup" class="popup-overlay" style="display:none;">
  <div class="popup-content">
    <span class="close-popup">&times;</span>
    <h2>Question</h2>
    <form>
      <input type="text" placeholder="Your name" required>
      <input type="email" placeholder="Your email" required>
      <input type="text" placeholder="Phone Number">
      <textarea placeholder="Your message..." required></textarea>
      <button type="submit">SEND MESSAGE</button>
    </form>
  </div>
</div>

<div id="shipping-popup" class="popup-overlay" style="display:none;">
  <div class="popup-content">
    <span class="close-popup">&times;</span>
    <h2>Shipping Info</h2>
    <ul style="list-style: none; padding: 0px;">
      <li
        style="    margin-bottom: 16px;"
      >
        <b>Return Policy:</b> We will gladly accept returns for any reason within 30 days of receipt of delivery.
      </li>
      <li
        style="    margin-bottom: 16px;"
      >
        <b>Availability:</b> Ships anywhere in the United States
      </li>
      <li><b>Processing Time:</b> Allow 3–4 business days processing time for your order to ship.</li>
    </ul>
  </div>
</div>

<div id="share-popup" class="popup-overlay" style="display:none;">
  <div class="popup-content">
    <span class="close-popup">&times;</span>
    <h2>COPY LINK</h2>

    <div class="copy-section" style="display: flex; gap: 10px; align-items: center; margin-bottom: 30px;">
      <input
        type="text"
        id="product-link"
        value="{{ product.url | prepend: shop.url }}"
        readonly
        style="flex: 1; padding: 12px; border: 1px solid black; border-radius: 100px;"
      >
      <button
        id="copy-link"
        style="padding: 15px 20px; background: black; color: white; border: none; border-radius: 25px; cursor: pointer;"
      >
        COPY
      </button>
    </div>
    <h2>SHARE</h2>
    <div class="share-icons" style="margin-top: 8px; display: flex; gap: 10px;">
      <a href="#" class="icon fb">
        <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24">
          <path fill="#000" d="M14 13.5h2.5l1-4H14v-2c0-1.03 0-2 2-2h1.5V2.14c-.326-.043-1.557-.14-2.857-.14C11.928 2 10 3.657 10 6.7v2.8H7v4h3V22h4z"/>
        </svg>
      </a>
      <a href="#" class="icon x">
        <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 14 14">
          <g fill="none"><g clip-path="url(#primeTwitter0)"><path fill="#000" d="M11.025.656h2.147L8.482 6.03L14 13.344H9.68L6.294 8.909l-3.87 4.435H.275l5.016-5.75L0 .657h4.43L7.486 4.71zm-.755 11.4h1.19L3.78 1.877H2.504z"/></g><defs><clipPath id="primeTwitter0"><path fill="#fff" d="M0 0h14v14H0z"/></clipPath></defs></g>
        </svg>
      </a>
      <a href="#" class="icon pin">
        <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24">
          <g fill="none"><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="#000" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2S2 6.477 2 12c0 4.006 2.356 7.462 5.758 9.058l2.29-10.766a1 1 0 0 1 1.956.416C11.73 12 11.49 12.5 11.501 13.1c.017.94.273 1.442.521 1.702c.253.265.618.408 1.095.4c.487-.01 1.038-.181 1.526-.489C15.592 14.117 16 13.095 16 12a4 4 0 1 0-7.668 1.6a1 1 0 0 1-1.832.8a6 6 0 1 1 11 0c-.368.848-1.04 1.534-1.792 2.007c-.755.475-1.657.779-2.555.795c-.819.015-1.672-.212-2.359-.808L9.66 21.726c.75.18 1.534.275 2.339.275Z"/></g>
        </svg>
      </a>
    </div>
  </div>
</div>

<style>
          /* Wrapper */
          .product-interaction {
            display: flex;
            flex-wrap: wrap;
            gap: 10px 15px;
          }

           .icon-bg{
            margin-right: 6px;
            font-weight: 400;
            background: #f6f6f6;
            width: 34px;
            height: 34px;
            line-height: 34px;
            border-radius: 50%;
            padding: 4px;
          }

          .icon-bg:hover{
            background: grey;
          }

          /* Button style */
          .product-interaction button {
            display: flex;
            align-items: center;
            gap: 6px;
            background: none;
            border: none;
            font-size: 14px;
            font-family: Plus Jakarta Sans", sans-serif;
            font-weight: 400;
            cursor: pointer;
            color: #000000;
            transition: color 0.3s ease;
          }

          /* Popup Styling */

          /* Compare */
      /* === Compare Popup Styling === */
  .compare-content {
    min-width: 80%;
    max-height: 90vh;
    overflow-y: auto;
    padding: 30px;
    box-sizing: border-box;
  }

  .compare-items {
    display: flex;
    gap: 20px;
    flex-wrap: nowrap;
    overflow-x: auto;
    padding-top: 20px;
  }

  .compare-card {
    background: #f8f8f8;
    padding: 25px;
    border-radius: 10px;
    width: 250px;
    flex: 0 0 auto;
    position: relative;
    text-align: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }

  .compare-card .remove-compare {
    position: absolute;
    top: 10px;
    right: 10px;
    background: transparent;
    border: none;
    font-size: 14px;
    cursor: pointer;
    color: red;
  }

  .compare-card img {
    max-width: 100%;
    margin-bottom: 15px;
  }

  .compare-title {
    font-weight: bold;
    margin-bottom: 10px;
  }

  .compare-price {
    color: #333;
    margin-bottom: 10px;
  }

  .compare-availability {
    font-size: 14px;
    color: green;
    margin-bottom: 15px;
  }

  .compare-card .add-to-cart-btn {
    background: black;
    color: white;
    padding: 10px 15px;
    border-radius: 25px;
    border: none;
    font-weight: 600;
    cursor: pointer;
  }



          /* Question */
          .popup-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
          }

          .popup-content {
            background: #fff;
            padding: 45px 40px 30px;
            min-width: 520px;
            position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          }

          .popup-content h2 {
            margin-top: 0;
            font-size: 30px;
            margin-bottom: 35px;
          }

          .popup-content form {
            display: flex;
            flex-direction: column;
            gap: 16px;
          }

          .popup-content input,
          .popup-content textarea {
            padding: 20px;
            border: none;
            background-color: #F4F4F4;
            border-radius: 6px;
            font-size: 14px;
            width: 100%;
          }

          .popup-content button {
            background: white;
            padding: 12px;
            border: 1px solid black;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
          }

          .popup-content button:hover {
            background: black;
            color: white;
          }

          .close-popup {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
          }

          /* Share Pop-Up */
        #share-popup h2{
          font-size: 14px;
          margin-bottom: 8px;
        }

      #product-link{
        background-color: white;
      }

        .share-icons .icon {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        border: 1px solid black;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        text-decoration: none;
        color: #000;
        font-weight: bold;
        font-size: 16px;
      }

      .share-icons .icon:hover {
        background: #ccc;
      }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const compareBtn = document.querySelector('.compare-btn');
    const comparePopup = document.getElementById('compare-popup');
    const closeCompare = document.querySelector('.close-compare');
    const compareItemsContainer = document.getElementById('compare-items');
    const compareTemplate = document.getElementById('compare-item-template');

    // Dummy product data - dynamic Liquid logic will replace this on render
    const productData = {
      handle: '{{ product.handle }}',
      title: '{{ product.title | escape }}',
      price: '{{ product.price | money }}',
      image: '{{ product.featured_image | image_url: width: 400 }}',
      availability: `{% if product.available %}In Stock{% else %}Out of Stock{% endif %}`
    };

    let comparedProducts = [];

    compareBtn.addEventListener('click', function () {
      const alreadyExists = comparedProducts.find(p => p.handle === productData.handle);
      if (!alreadyExists) {
        comparedProducts.push(productData);
        renderCompareItems();
      }

      comparePopup.style.display = 'flex';
    });

    closeCompare.addEventListener('click', function () {
      comparePopup.style.display = 'none';
    });

    comparePopup.addEventListener('click', function (e) {
      if (e.target === comparePopup) {
        comparePopup.style.display = 'none';
      }
    });

    function renderCompareItems() {
      compareItemsContainer.innerHTML = '';

      comparedProducts.forEach(product => {
        const clone = compareTemplate.content.cloneNode(true);
        const card = clone.querySelector('.compare-card');

        card.dataset.handle = product.handle;
        card.querySelector('.compare-image').src = product.image;
        card.querySelector('.compare-title').textContent = product.title;
        card.querySelector('.compare-price').textContent = product.price;
        card.querySelector('.compare-availability').textContent = product.availability;

        card.querySelector('.remove-compare').addEventListener('click', function () {
          comparedProducts = comparedProducts.filter(p => p.handle !== product.handle);
          renderCompareItems();
        });

        compareItemsContainer.appendChild(clone);
      });
    }
  });
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    var questionBtn = document.getElementById('question-btn');
    var popup = document.getElementById('question-popup');
    var closeBtn = document.querySelector('.close-popup');

    questionBtn.addEventListener('click', function() {
      popup.style.display = 'flex';
    });

    closeBtn.addEventListener('click', function() {
      popup.style.display = 'none';
    });

    // Optional: Close popup when clicking outside the content
    popup.addEventListener('click', function(e) {
      if (e.target === popup) popup.style.display = 'none';
    });
  });
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    var shippingBtn = document.getElementById('shipping-btn');
    var shippingPopup = document.getElementById('shipping-popup');
    var closeBtns = document.querySelectorAll('.close-popup');

    shippingBtn.addEventListener('click', function() {
      shippingPopup.style.display = 'flex';
    });

    closeBtns.forEach(function(btn) {
      btn.addEventListener('click', function() {
        shippingPopup.style.display = 'none';
      });
    });

    // Optional: Close popup when clicking outside the content
    shippingPopup.addEventListener('click', function(e) {
      if (e.target === shippingPopup) shippingPopup.style.display = 'none';
    });
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var shareBtn = document.querySelector('.share-btn');
    var sharePopup = document.getElementById('share-popup');
    var closeBtns = document.querySelectorAll('.close-popup');

    shareBtn.addEventListener('click', function() {
      sharePopup.style.display = 'flex';
    });

    closeBtns.forEach(function(btn) {
      btn.addEventListener('click', function() {
        btn.closest('.popup-overlay').style.display = 'none';
      });
    });

    sharePopup.addEventListener('click', function(e) {
      if (e.target === sharePopup) sharePopup.style.display = 'none';
    });

    // Copy to clipboard logic
    var copyBtn = document.getElementById('copy-link');
    var linkInput = document.getElementById('product-link');

    copyBtn.addEventListener('click', function() {
      linkInput.select();
      linkInput.setSelectionRange(0, 99999); // Mobile support
      document.execCommand("copy");
      copyBtn.textContent = "COPIED";
      setTimeout(() => {
        copyBtn.textContent = "COPY";
      }, 2000);
    });
  });
</script>

{% schema %}
{
  "name": "Buttons",
  "settings": [],
  "presets": [
    {
      "name": "Buttons",
      "category": "Custom"
    }
  ]
}
{% endschema %}
